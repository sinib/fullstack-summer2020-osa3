(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),u=n.n(a),o=n(13),r=n.n(o),c=n(2),i=function(e){return u.a.createElement("p",null,e.name,"\xa0",e.number,"\xa0",u.a.createElement("button",{value:e.id,onClick:e.remover},"Delete"))},l=function(e){return e.list.map((function(t){return u.a.createElement(i,{key:t.id,id:t.id,name:t.name,number:t.number,remover:e.remover})}))},m=function(e){return u.a.createElement(u.a.Fragment,null,e.name,": ",u.a.createElement("input",{value:e.value,onChange:e.onChange}))},f=function(e){return u.a.createElement("button",{type:e.type},e.text)},s=function(e){var t;return t=""===e.onSubmit?function(){}:e.onSubmit,u.a.createElement("form",{onSubmit:t},u.a.createElement("div",null,e.inputs.map((function(e){return u.a.createElement("p",{key:e.id},u.a.createElement(m,{name:e.name,value:e.value,onChange:e.onChange}))}))),u.a.createElement("div",null,e.buttons.map((function(e){return u.a.createElement(f,{key:e.id,type:e.type,text:e.text})}))))},d=function(e){var t=e.msgData,n=t[0],a=t[1];return null===n?null:u.a.createElement("div",{className:a?"error":"notification"},n)},b=n(3),p=n.n(b),v="/api/persons",h=function(){return p.a.get(v).then((function(e){return e.data}))},E=function(e){return p.a.post(v,e).then((function(e){return e.data}))},g=function(e){return p.a.delete("".concat(v,"/").concat(e)).then((function(e){return e.data}))},y=function(e,t){return p.a.put("".concat(v,"/").concat(e),t).then((function(e){return e.data}))},w=(n(36),function(e){var t=e.title;return u.a.createElement("h2",null,t)}),j=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(""),i=Object(c.a)(r,2),m=i[0],f=i[1],b=Object(a.useState)(""),p=Object(c.a)(b,2),v=p[0],j=p[1],C=Object(a.useState)(""),O=Object(c.a)(C,2),S=O[0],k=O[1],x=Object(a.useState)([null,!1]),D=Object(c.a)(x,2),T=D[0],N=D[1];Object(a.useEffect)((function(){h().then((function(e){o(e)}))}),[]);var A=""===S?n:n.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())}));return u.a.createElement("div",null,u.a.createElement("h1",null,"Phonebook"),u.a.createElement(w,{title:"Search contacts"}),u.a.createElement(s,{inputs:[{id:1,name:"Name",value:S,onChange:function(e){k(e.target.value)}}],buttons:[],onSubmit:""}),u.a.createElement(w,{title:"Add new contact"}),u.a.createElement(d,{msgData:T}),u.a.createElement(s,{inputs:[{id:2,name:"Name",value:m,onChange:function(e){f(e.target.value)}},{id:3,name:"Number",value:v,onChange:function(e){j(e.target.value)}}],buttons:[{id:1,type:"submit",text:"Add"}],onSubmit:function(e){e.preventDefault();var t={name:m,number:v},a=n.find((function(e){return e.name===m}));void 0===a?E(t).then((function(e){o(n.concat(e)),f(""),j(""),N(["".concat(e.name," was added"),!1]),setTimeout((function(){N([null,!1])}),5e3)})).catch((function(e){N(["Error: ".concat(e.response.data.error),!0]),setTimeout((function(){N([null,!1])}),7e3),console.log(e.response.data.error)})):window.confirm("".concat(a.name," is already in the phonebook. Do you want to replace the number?"))&&y(a.id,t).then((function(e){o(n.map((function(t){return t.id!==a.id?t:e}))),f(""),j(""),N(["Updated the number for ".concat(e.name),!1]),setTimeout((function(){N([null,!1])}),5e3)})).catch((function(e){N(["".concat(a.name," has already been removed from contacts."),!0]),setTimeout((function(){N([null,!1])}),5e3)}))}}),u.a.createElement(w,{title:"Contacts"}),u.a.createElement(l,{list:A,remover:function(e){var t=e.target.value,a=n.find((function(e){return e.id===t}));window.confirm("Do you really want to delete ".concat(a.name,"?"))&&g(t).then(function(e){var t=n.findIndex((function(t){return t.id===e})),a=n[t].name,u=n.slice(0,t).concat(n.slice(t+1));o(u),N(["Removed ".concat(a," from contacts."),!1]),setTimeout((function(){N([null,!1])}),5e3)}(t))}}))};r.a.render(u.a.createElement(j,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.31564776.chunk.js.map